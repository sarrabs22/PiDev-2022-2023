<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>
<style>
	table {
		font-family: arial, sans-serif;
		border-collapse: collapse;
		width: 50%;
		margin: 0 auto;
	}
	#htmlContent {
		text-align: center;
	}
	td,
	th,
	button {
		border: 1px solid #dddddd;
		text-align: left;
		padding: 8px;
	}
	button {
		border: 1px solid black;
	}
	tr:nth-child(even) {
		background-color: #dddddd;
	}
</style>
<div id="htmlContent">
	<table>
		<tbody>
			<tr>
				<th>NameD</th>
				<td>{{ don.NameD }}</td>
			</tr>
			<tr>
				<th>Quantite</th>
				<td>{{ don.quantite }}</td>
			</tr>
			<tr>
				<th>Description</th>
				<td>{{ don.Description }}</td>
			</tr>
			<tr>
				<th>Localisation</th>
				<td>{{ don.Localisation }}</td>
			</tr>
			<tr>
				<th>Email</th>
				<td>{{ don.email }}</td>
			</tr>
			<tr>
				<th>Category</th>
				<td>{{ don.categoryD.NameCa }}</td>
			</tr>
		</tbody>
	</table>
	<p>This code will be used to confirm the claim:
	</p>
	<p></p>
	<p id="key"></p>
</div>
<div id="editor"></div>
<center>

	<p>
		<button type="button" class="btn btn-outline-success" onclick="generateKey()" id="generatePDF">generate PDF</button>
	</p>

</center>
<script>
	function generateKey() {
var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
var key = '';
for (var i = 0; i < 10; i++) {
key += chars.charAt(Math.floor(Math.random() * chars.length));
}
document.getElementById("key").innerHTML = key;
}
var doc = new jsPDF();
var specialElementHandlers = {
'#editor': function (element, renderer) {
return true;
}
};
$('#generatePDF').click(function () {
doc.fromHTML($('#htmlContent').html(), 15, 15, {
'width': 190,
'elementHandlers': specialElementHandlers
});
doc.save('Confirmation.pdf');
});
</script>
